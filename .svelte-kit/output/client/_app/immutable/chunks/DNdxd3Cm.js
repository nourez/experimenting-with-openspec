import{f as D,h,G as B,E as M,H as U,I as Y,J as x,K as $,L as A,M as p,N as w,x as O,O as q,q as g,P as y,Q as C,R as F,S as G,T as H,U as Z,V as j,W as z,j as J,l as K,X as Q,Y as V,Z as W,_ as X,$ as k,v as ee,a0 as re,a1 as ae}from"./Bq3wvlV_.js";import{B as ne}from"./DKCia9C2.js";import{s as ie,g as se}from"./CYm1lVqn.js";function le(e,a,n=!1){h&&B();var r=new ne(e),u=n?M:0;function t(f,s){if(h){const o=U(e)===Y;if(f===o){var _=x();$(_),r.anchor=_,A(!1),r.ensure(f,s),A(!0);return}}r.ensure(f,s)}D(()=>{var f=!1;a((s,_=!0)=>{f=!0,t(_,s)}),f||t(!1,null)},u)}let S=!1,P=Symbol();function de(e,a,n){const r=n[a]??(n[a]={store:null,source:q(void 0),unsubscribe:O});if(r.store!==e&&!(P in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=O;else{var u=!0;r.unsubscribe=ie(e,t=>{u?r.source.v=t:y(r.source,t)}),u=!1}return e&&P in n?se(e):g(r.source)}function ce(){const e={};function a(){p(()=>{for(var n in e)e[n].unsubscribe();w(e,P,{enumerable:!1,value:!0})})}return[e,a]}function ue(e){var a=S;try{return S=!1,[e(),S]}finally{S=a}}function ve(e,a,n,r){var I;var u=!K||(n&Q)!==0,t=(n&V)!==0,f=(n&ae)!==0,s=r,_=!0,o=()=>(_&&(_=!1,s=f?J(r):r),s),d;if(t){var N=X in e||k in e;d=((I=C(e,a))==null?void 0:I.set)??(N&&a in e?i=>e[a]=i:void 0)}var c,T=!1;t?[c,T]=ue(()=>e[a]):c=e[a],c===void 0&&r!==void 0&&(c=o(),d&&(u&&F(),d(c)));var l;if(u?l=()=>{var i=e[a];return i===void 0?o():(_=!0,i)}:l=()=>{var i=e[a];return i!==void 0&&(s=void 0),i===void 0?s:i},u&&!(n&G))return l;if(d){var L=e.$$legacy;return function(i,b){return arguments.length>0?((!u||!b||L||T)&&d(b?l():i),i):l()}}var E=!1,v=(n&re?ee:z)(()=>(E=!1,l()));t&&g(v);var m=Z;return function(i,b){if(arguments.length>0){const R=b?g(v):u&&t?H(i):i;return y(v,R),E=!0,s!==void 0&&(s=R),i}return W&&E||m.f&j?v.v:g(v)}}export{de as a,le as i,ve as p,ce as s};
